{"version":3,"sources":["helpers/socket.js","components/battery/index.js","components/tilt/index.js","components/drone/index.js","components/commands/index.js","App.js","index.js"],"names":["socket","io","BatteryStyles","styled","div","_templateObject","props","level","Battery","react_default","a","createElement","battery","className","defaultProps","TiltWrap","tilt_templateObject","Tilt","_ref","pitch","roll","yaw","height","DroneStateStyles","drone_templateObject","DroneState","status","_useState3","useState","_useState4","Object","slicedToArray","updateStatus","useEffect","on","removeListener","useSocket","droneState","_useState","_useState2","updateDroneState","useDroneState","bat","tilt","h","CommandGrid","commands_templateObject","sendCommand","command","console","log","concat","emit","Commands","onClick","role","GlobalStyle","createGlobalStyle","App_templateObject","PageStyles","_templateObject2","App","react","drone","commands","Component","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.427edec3.chunk.js","sourcesContent":["import io from 'socket.io-client';\n\nconst socket = io('http://localhost:6767');\n\nexport default socket;","import React from 'react';\nimport styled from 'styled-components';\n\nconst BatteryStyles = styled.div`\n  width: 75%;\n  height: 30vh;\n  margin-left: 50px;\n  margin-bottom: 10px;\n  text-align: center;\n  --color: ${props => (props.level > 20 ? '#1af21a' : '#bb0707')};\n  border: 2px solid black;\n  border-radius: 5px;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column-reverse;\n  /* box-shadow: 0 0 10px var(--color); */\n  background: #c5c5c5;\n  .batteryLevel {\n    transition: all 0.5s;\n    height: ${props => props.level}%;\n    text-align: center;\n    color: white;\n    display: block;\n    background: var(--color);\n  }\n`;\n\nconst Battery = props => (\n  <BatteryStyles level={props.battery}>\n    <span className=\"batteryLevel\">{props.battery}%</span>\n  </BatteryStyles>\n);\n\nBattery.defaultProps = {\n  // battery: 'LOADING',\n  battery: 60,\n};\n\nexport default Battery;","import React from 'react';\nimport styled from 'styled-components';\n\nconst TiltWrap = styled.div`\n  text-align: center;\n  display: grid;\n  justify-content: center;\n  overflow: hidden;\n  grid-gap: 4px;\n  margin-left: 50px;\n  grid-template-columns: repeat(1, 1fr);\n  grid-template-rows: repeat(4, span 2);\n  div {\n    background: orange;\n    border: 2px groove darkblue;\n  }\n  h3 {\n    margin-bottom: 2px;\n  }\n`;\n\nconst Tilt = ({ pitch, roll, yaw, height }) => (\n  <TiltWrap>\n      <h3>Telemetry</h3>\n      <div>Pitch: {pitch}</div>\n      <div>Roll: {roll}</div>\n      <div>Yaw: {yaw}</div>\n      <div>Height: {height / 100}M</div>\n  </TiltWrap>\n);\n\nTilt.defaultProps = {\n  pitch: 0,\n  roll: 0,\n  yaw: 0,\n  height: 0,\n};\n\nexport default Tilt;","import React, { useState, useEffect } from \"react\";\nimport styled from 'styled-components';\nimport socket from '../../helpers/socket';\nimport Battery from '../battery';\nimport Tilt from '../tilt';\n\nconst DroneStateStyles = styled.div`\n   /* float: left */\n  left: 0;\n  position: absolute;\n  top: 20%;\n  width: 20vw;\n  text-align: center;\n  .status {\n    text-align: center;\n    color: green;\n    margin-left: 50px;\n  }\n\n  @media (max-width: 700px) {\n    top: 540px;\n    width: 50%;\n    left: 20%;\n  }\n`;\n\n// export default function DroneState(props) {\n\n  function useDroneState() {\n    const [ droneState, updateDroneState ] = useState({});\n    useEffect(() => {\n      socket.on('droneState', updateDroneState);\n      return () => socket.removeListener('droneState');\n    }, []);\n    return droneState;\n  }\n\n  function useSocket() { \n    const [status, updateStatus] = useState('DISCONNECTED');\n    useEffect(() => {\n      socket.on('status', updateStatus);\n      return () => socket.removeListener('status');\n    }, []);\n    return status;\n  }\n\n  const DroneState = () => {\n    const status = useSocket();\n    const droneState = useDroneState([]);\n    return (\n      <DroneStateStyles>\n        <p className=\"status\">Status: {status}</p>\n        <Battery battery={droneState.bat} />\n        <Tilt\n          pitch={droneState.pitch}\n          roll={droneState.roll}\n          yaw={droneState.yaw}\n          height={droneState.h}\n        />\n      </DroneStateStyles>\n    );\n  };\n  \n  export default DroneState;\n\n  // useEffect(() => {\n  //   function useDroneState() {\n  //     socket.on('droneState', updateDroneState);\n  //     socket.removeListener('droneState');\n  //     return droneState;\n  //     // return () => socket.removeListener('droneState');\n  //   } \n  //   useDroneState();\n  //   // return droneState;\n  // }, []);\n  \n\n  // const [status, updateStatus] = useState('DISCONNECTED');\n\n  // useEffect(() =>  {\n  //   function handleStatusUpdate() {\n  //     socket.on('status', updateStatus);\n  //     socket.removeListener('status');\n  //     return status;\n  //     // return () => socket.removeListener('status');\n  //   }\n  //   handleStatusUpdate();\n  //   // return status;\n  // }, []);\n\n\n//   return (\n//     <DroneStateStyles>\n//       <p className=\"status\">Status: {status}</p>\n//       <Battery battery={droneState.battery} />\n//       <Tilt\n//         pitch={droneState.pitch}\n//         roll={droneState.roll}\n//         yaw={droneState.yaw}\n//         height={droneState.height}\n//       />\n//     </DroneStateStyles>\n//   );\n// }\n","import React from 'react';\nimport styled from 'styled-components';\nimport socket from '../../helpers/socket';\n\nconst CommandGrid = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 1.25fr 1fr;\n  grid-template-rows: repeat(3, 1fr);\n  border: 2px solid darkblue;\n  grid-gap: 2px;\n  button {\n    text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.05);\n    border: 0;\n    background: teal;\n    border: 2px solid darkblue;\n    color: white;\n    font-size: 1rem;\n    position: relative;\n    &:active {\n      top: 2px;\n    }\n    &:focus {\n      outline: 0;\n      border-color: #ffc600;\n    }\n    &.takeoff {\n      background: #00ff00;\n      color: darkblue;\n      text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.05);\n      font-size: 1.5rem;\n      span.symbol {\n          display: block;\n          font-size: 3rem;\n          font-weight: 400;\n        }\n    }\n    &.land {\n      background: orange;\n      color: darkblue;\n      text-shadow: 2px 2px 0 rgba(0, 0, 0, 0.05);\n      font-size: 1.5rem;\n      span.symbol {\n          display: block;\n          font-size: 3rem;\n          font-weight: 400;\n        }\n    }\n    &.emergency {\n      background: yellow;\n      text-transform: uppercase;\n      color: red;\n    }\n    &.rotate {\n      background: lightblue;\n      color: black;\n    }\n    &.height {\n      background: #00fff9;\n      color: black;\n    }\n    span.symbol {\n      display: block;\n      font-size: 2rem;\n      font-weight: 400;\n    }\n    span.reverse {\n      display: block;\n      font-size: 2.5rem;\n      font-weight: 300;\n      margin-top: 0;\n    }\n  }\n  .center {\n    display: grid;\n    grid-gap: 3px;\n    grid-template-columns: 1fr 1fr;\n    button:last-child {\n      grid-column: span 2;\n    }\n  }\n\n  .flip {\n    display: grid;\n    grid-gap: 2px;\n    grid-template-columns: 1fr 1fr 1fr 1fr;\n    grid-column: span 3;\n  }\n\n  h2 {\n    grid-column: 1 / -1;\n    background: magenta;\n    border: 2px solid darkblue;\n    margin: 0 0 0 0;\n    font-size: 1.25rem;\n    text-align: center;\n    padding: 0.2rem;\n    color: navy;\n  }\n\n  @media (max-width: 700px) {\n    max-width: 500px;\n    max-height: 460px;\n    margin: 5px auto 0 auto;\n    position: relative;\n    left: 0;\n  }\n`;\n\nfunction sendCommand(command) {\n  return function() {\n    console.log(`Sending the command ${command}`);\n    socket.emit('command', command);\n  };\n}\n\nconst amount = 20;\n\nconst Commands = () => (\n  <CommandGrid>\n    <button className=\"takeoff\" onClick={sendCommand('takeoff')}>\n        TAKE OFF <span className=\"symbol\">⬈</span>\n      </button>\n    <button onClick={sendCommand(`forward ${amount}`)}>\n      <span className=\"symbol\">↑</span> Forward 20cm\n    </button>\n    <button className=\"land\" onClick={sendCommand('land')}>\n        LAND <span className=\"symbol\">⬊</span>\n    </button>\n    <button onClick={sendCommand(`left ${amount}`)}>\n      <span className=\"symbol\">←</span> Left 20cm\n    </button>\n    <div className=\"center\">\n      <button className=\"rotate\" onClick={sendCommand('ccw 90')}>\n        Rotate <span className=\"symbol\">⟲</span> 90°\n      </button>\n      <button className=\"rotate\" onClick={sendCommand('cw 90')}>\n        Rotate <span className=\"symbol\">⟳</span> 90°\n      </button>\n      <button className=\"emergency\" onClick={sendCommand('emergency')}>\n        emergency land <span role=\"img\" className=\"symbol\">🚧</span>\n      </button>\n    </div>\n    <button onClick={sendCommand(`right ${amount}`)}>\n      <span className=\"symbol\">→</span> Right 20cm\n    </button>\n    <button className=\"height\" onClick={sendCommand(`up ${amount}`)}>\n      Elevate <span className=\"symbol\">⤒</span> 20cm\n    </button>\n    <button onClick={sendCommand(`back ${amount}`)}>\n      Reverse 6\" <span className=\"reverse\">↓</span>\n    </button>\n    <button className=\"height\" onClick={sendCommand(`down ${amount}`)}>\n     Lower <span className=\"symbol\">⤓</span> 20cm\n    </button>\n    <h2> Flips & Tricks </h2>\n    <div className=\"flip\">\n      <button onClick={sendCommand('flip l')}>Barrel Roll <span className=\"\">←</span></button>\n      <button onClick={sendCommand('flip f')}>Front Flip</button>\n      <button onClick={sendCommand('flip b')}>Back Flip</button>\n      <button onClick={sendCommand('flip r')}>Barrel Roll <span className=\"\">→</span></button>\n    </div>\n  </CommandGrid>\n);\n\nexport default Commands;","import React, { Component, Fragment } from 'react';\nimport styled, { createGlobalStyle } from 'styled-components';\nimport DroneState from './components/drone';\nimport Commands from './components/commands';\n\nconst GlobalStyle = createGlobalStyle`\n  body {\n    background: white;\n    font-family: 'Operator Mono', monospace;\n    font-weight: 900;\n    font-size: 1rem;\n    background: lightgrey;\n    color: darkblue;\n  }\n  * {\n    font-family: 'Operator Mono', monospace;\n    box-sizing: border-box;\n  }\n  h2 {\n    text-align: center;\n    margin-top: 10px;\n    margin-bottom: 10px;\n  }\n`;\n\nconst PageStyles = styled.div`\n  max-width: 550px;\n  max-height: 600px;\n  margin: 10px auto 0 auto;\n  position: fixed;\n  left: 25%;\n\n  @media (max-width: 700px) {\n    max-width: 500px;\n    margin: 5px auto 0 auto;\n    position: relative;\n    left: 0;\n  }\n`;\n\nclass App extends Component {\n  render() {\n    return (\n      <Fragment>\n        <DroneState />\n        <PageStyles>\n          <h2>Tello Drone Flight Controller</h2>\n          <GlobalStyle />\n          <Commands />\n        </PageStyles>\n      </Fragment>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n    <App />, \n    document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}